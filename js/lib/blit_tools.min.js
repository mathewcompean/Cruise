var $jscomp={scope:{},checkStringArgs:function(e,a,b){if(null==e)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return e+""}};
$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,a,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[a]=b.value)};$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(e,a,b,d){if(a){b=$jscomp.global;e=e.split(".");for(d=0;d<e.length-1;d++){var c=e[d];c in b||(b[c]={});b=b[c]}e=e[e.length-1];d=b[e];a=a(d);a!=d&&null!=a&&$jscomp.defineProperty(b,e,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("String.prototype.includes",function(e){return e?e:function(a,b){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,b||0)}},"es6-impl","es3");
$jscomp.polyfill("Math.log2",function(e){return e?e:function(a){return Math.log(a)/Math.LN2}},"es6-impl","es3");var oTOUCHES=[];
function BlitInputs(e){function a(d){if(d){var c=d.beta;d=d.gamma;if(orient=window.orientation||window.mozOrientation||window.msOrientation)0!==orient&&(-90===orient?(c=-c,d=-d):90!==orient&&180===orient&&(c=-c,d=-d));else if(orient=screen.orientation||screen.mozOrientation||screen.msOrientation)switch(orient){case "landscape-secondary":c=-c;d=-d;break;case "portrait-secondary":c=-c,d=-d}90<c&&180>c&&(c=2*(c-180));-90>c&&-180<c&&(c=2*(180+c));b.tilt_x=c;b.tilt_y=d}else window.removeEventListener("deviceorientation",
a)}var b=this,d=document.getElementById(e)||document.documentElement;b.has_tilt=!1;b.using_tilt=!1;b.still_frames=0;b.beta=0;b.lastbeta=0;b.alpha=0;b.lastalpha=0;b.tilt_x=0;b.tilt_y=0;b.has_touch=!1;b.touching=!1;b.mouse_is_down=!1;b.mouse_start_x=0;b.mouse_start_y=0;b.mouse_x=0;b.mouse_y=0;b.frames_down=0;b.using_keyboard=!1;b.right=!1;b.left=!1;b.up=!1;b.dn=!1;b.z=!1;b.x=!1;b.c=!1;b.v=!1;b.b=!1;b.keys_down=[];b.propagation_prevention=1;this.doSetPropagationPrevention=function(a){b.propagation_prevention=
a};this.doGetTouches=function(){return oTOUCHES};var c=function(a){a?window.innerWidth>window.innerHeight?f(4*-a.accelerationIncludingGravity.y,4*-a.accelerationIncludingGravity.z):f(4*a.accelerationIncludingGravity.x,4*-a.accelerationIncludingGravity.z):window.removeEventListener("devicemotion",c)},f=function(a,d){var c;platform.isAndroid&&(a=-a);90<a&&(a=90);-90>a&&(a=-90);if(c=window.orientation||window.mozOrientation||window.msOrientation)0!==c&&(-90===c?a=-a:90!==c&&180===c&&(a=-a));else if(c=
screen.orientation||screen.mozOrientation||screen.msOrientation)switch(c){case "landscape-secondary":a=-a;break;case "portrait-secondary":a=-a}b.alpha=d;b.beta=a;return!0},g=-1,h=function(a){for(var b=0;b<oTOUCHES.length;b++)if(oTOUCHES[b].id===a)return b;return-1};e=function(a){var c=a.touches;a.touches?c=a.touches:a.targetTouches?c=a.targetTouches:a.pageX&&(c=[a]);for(var f=0;f<c.length;f++){var e=c[f],m=h(e.identifier),l=(e.clientX-d.offsetLeft)*oSTAGE.scale_inv,k=(e.clientY-d.offsetTop)*oSTAGE.scale_inv;
-1==m&&(oTOUCHES.push({id:e.identifier,frames_down:0,mouse_is_down:!0,click_pending:!0,release_pending:!1,my_x:l,my_y:k,speed_x:0,speed_y:0,start_x:l,start_y:k}),1==oTOUCHES.length&&(g=e.identifier,b.touching=!0,b.frames_down=0,b.mouse_is_down=!0,b.click_pending=!0,b.release_pending=!1,b.mouse_x=l,b.mouse_y=k,b.mouse_start_x=l,b.mouse_start_y=k))}e.target.prohibit_touch&&a.preventDefault();platform.isMobile&&!e.target.allow_touch&&2<=b.propagation_prevention&&a.preventDefault()};var k=function(a){var c;
a.changedTouches?c=a.changedTouches:a.targetTouches?c=a.targetTouches:a.pageX&&(c=[a]);for(var e=0;e<c.length;e++){var f=c[e],m=f.identifier,l=h(m),k=(f.clientX-d.offsetLeft)*oSTAGE.scale_inv,n=(f.clientY-d.offsetTop)*oSTAGE.scale_inv;oTOUCHES[l].speed_x=k-oTOUCHES[l].my_x;oTOUCHES[l].speed_y=n-oTOUCHES[l].my_y;oTOUCHES[l].my_x=k;oTOUCHES[l].my_y=n;m==g&&(b.mouse_x=k,b.mouse_y=n)}f.target.prohibit_touch_scroll&&Math.abs(oTOUCHES[0].speed_x)>Math.abs(oTOUCHES[0].speed_y)&&a.preventDefault();f.target.prohibit_touch&&
a.preventDefault();(f.target.prohibit_touchmove||platform.isMobile&&!f.target.allow_touch&&1<=b.propagation_prevention)&&a.preventDefault()},l=function(a){switch(a.type){case "touchend":case "touchcancel":var c;a.changedTouches?c=a.changedTouches:a.targetTouches?c=a.targetTouches:a.pageX&&(c=[a]);for(a=0;a<c.length;a++){var d=c[a],d=d.identifier,f=h(d);d==g&&b.mouse_is_down&&(b.mouse_is_down=!1,b.release_pending=!0,b.frames_down=0,b.touching=!1);-1!=f&&oTOUCHES.splice(f,1)}break;case "MSPointerUp":for((c=
a.touches)?c=a.touches:a.targetTouches?c=a.targetTouches:a.pageX&&(c=[a]),a=0;a<c.length;a++)d=c[a],d=d.identifier,f=h(d),d==g&&(b.mouse_is_down=!1,b.release_pending=!0,b.frames_down=0,b.touching=!1,g=-1),oTOUCHES.splice(f,1)}};window.onkeydown=function(a){var c=a.which||a.keyCode||a.key;if(!(0<=b.keys_down.indexOf(c))){b.keys_down.push(c);b.using_keyboard=!0;switch(c){case 39:b.right=!0;b.right_pending=!0;break;case 37:b.left=!0;b.left_pending=!0;break;case 32:b.space=!0;b.space_pending=!0;break;
case 38:b.up=!0;b.up_pending=!0;break;case 40:b.dn=!0;b.dn_pending=!0;break;case 90:b.z=!0;b.z_pending=!0;break;case 88:b.x=!0;b.x_pending=!0;break;case 67:b.c=!0;b.c_pending=!0;break;case 86:b.v=!0;b.v_pending=!0;break;case 66:b.b=!0,b.b_pending=!0}a.preventDefault()}};window.onkeyup=function(a){var c=a.which||a.keyCode||a.key,d=b.keys_down.indexOf(c);0<=d&&b.keys_down.splice(d,1);switch(c){case 39:b.right=!1;break;case 37:b.left=!1;break;case 32:b.space=!1;b.space_rel_pending=!0;break;case 38:b.up=
!1;break;case 40:b.dn=!1;break;case 90:b.z=!1;break;case 88:b.x=!1;break;case 67:b.c=!1;break;case 86:b.v=!1;break;case 66:b.b=!1}a.preventDefault()};d.onmousedown=function(a){b.mouse_is_down||(b.frames_down=0,b.mouse_is_down=!0,b.click_pending=!0,b.mouse_x=(a.clientX-d.offsetLeft)*oSTAGE.scale_inv|0,b.mouse_y=(a.clientY-d.offsetTop)*oSTAGE.scale_inv|0,b.mouse_start_x=b.mouse_x,b.mouse_start_y=b.mouse_y,b.client_mouse_x=(a.clientX-d.offsetLeft)*oSTAGE.scale_inv|0,b.client_mouse_y=(a.clientY-d.offsetTop)*
oSTAGE.scale_inv|0,b.client_mouse_start_x=b.client_mouse_x,b.client_mouse_start_y=b.client_mouse_y)};d.onmousemove=function(a){b.client_mouse_x=(a.clientX-d.offsetLeft)*oSTAGE.scale_inv|0;b.client_mouse_y=(a.clientY-d.offsetTop)*oSTAGE.scale_inv|0;b.mouse_x=(a.clientX-d.offsetLeft)*oSTAGE.scale_inv|0;b.mouse_y=(a.clientY-d.offsetTop)*oSTAGE.scale_inv|0};window.onmouseup=document.onblur=function(a){b.mouse_is_down=!1;b.release_pending=!0;b.frames_down=0};platform.isMobile&&(window.DeviceOrientationEvent?
window.addEventListener("deviceorientation",a,!1):window.DeviceMotionEvent&&window.addEventListener("devicemotion",c,{passive:!1,capture:!1}),window.navigator.msPointerEnabled?(window.addEventListener("MSPointerDown",e,{passive:!1,capture:!1}),window.addEventListener("MSPointerUp",l,{passive:!1,capture:!1})):(window.addEventListener("touchstart",e,{passive:!1,capture:!1}),window.addEventListener("touchend",l,{passive:!1,capture:!1}),window.addEventListener("touchmove",k,{passive:!1,capture:!1})))}
;function BlitSaver(){window.localStorageAlias=window.localStorage;this.useCookies=!1;window.localStorage&&"undefined"!=window.localStorage||(window.localStorageAlias={},window.localStorageAlias.removeItem=function(){});this.doSaveData=function(e,a){e=oCONFIG.game_id+"_"+e;window.localStorageAlias[e]=JSON.stringify(a)};this.doGetData=function(e){e=oCONFIG.game_id+"_"+e;return(e=window.localStorageAlias[e])?""!=e?JSON.parse(e):null:null};this.doClearData=function(e){e=oCONFIG.game_id+"_"+e;window.localStorageAlias.removeItem(e)}}
;this.myNameSpace=this.myNameSpace||{};
(function(){function e(){}var a={};e.prototype={initialized:!1,snd_queue:{},snd_counter:0,init:function(a){if(0==this.initialized)return this.initialized=!0,this.mute=oUSER.is_mute,createjs.Sound.muted=0==this.mute?!1:!0,window.addEventListener("mousedown",__snds.enableSounds),createjs.Sound.initializeDefaultPlugins()},enableSounds:function(){createjs.Sound.activePlugin.context&&"suspended"==createjs.Sound.activePlugin.context.state&&createjs.Sound.activePlugin.context.resume();window.removeEventListener("mousedown",
__snds.enableSounds)},nextSound:function(a){a=a.target.channel;if(0<__snds.snd_queue[a].length){var b=__snds.snd_queue[a].shift();__snds.playSound(b.id,a,b.loop,b.volume)}},stopSound:function(b){a[b]&&(a[b].stop(),delete a[b])},queueSound:function(a,d,c,f){d||(d="general_"+this.snd_counter,this.snd_counter++,5<this.snd_counter&&(this.snd_counter=0));var b={};b.id=a;b.loop=c;b.volume=f;b.channel=d;__snds.snd_queue[d].push(b)},getNowPlaying:function(b){return a[b]?a[b].clip_id:null},playSound:function(b,
d,c,f){createjs.Sound.activePlugin.context&&"suspended"==createjs.Sound.activePlugin.context.state&&createjs.Sound.activePlugin.context.resume();0==this.initialized&&this.init();d?a[d]&&a[d].stop():(d="general_"+this.snd_counter,this.snd_counter++,5<this.snd_counter&&(this.snd_counter=0));__snds.snd_queue[d]=[];var e={};e.interrupt=createjs.Sound.INTERRUPT_EARLY;f&&(e.volume=f);c&&(e.loop=c);"string"!==typeof b&&(b=b[getRandomInt(0,b.length-1)]);c=createjs.Sound.play(b,e);c.channel=d;c.clip_id=b;
c.addEventListener("complete",__snds.nextSound);return a[d]=c},toggleMute:function(){0==this.mute?(this.mute=1,createjs.Sound.muted=!0):(this.mute=0,createjs.Sound.muted=!1);oUSER.is_mute=this.mute;__localsaver.doSaveData("user",oUSER);return this.mute},forceMute:function(){createjs.Sound.muted=!0},isMute:function(){return this.mute},unforceMute:function(){0==this.mute&&(createjs.Sound.muted=!1)},mute:0};myNameSpace.BlitSounds=e})();function ButtonHelper(e,a,b,d,c,f,g,h){a.addEventListener&&(this.target=a,this.snds={},this.my_stage=e,this.normLabel=null==b?"norm":b,this.overLabel=null==d?"over":d,this.downLabel=null==c?"over":c,this.play=f,this._enabled=this._isOver=this._isPressed=!1,a.mouseChildren=!1,this.enabled=!0,g&&(h&&(g.actionsEnabled=!1,g.gotoAndStop&&g.gotoAndStop(h)),a.hitArea=g))}var p=ButtonHelper.prototype;p.setParams=function(e){for(var a in e)this[a]=e[a]};
p.setSounds=function(e){for(var a in e)this.snds[a]=e[a]};
p.setEnabled=function(e){if(e!=this._enabled){var a=this.target;(this._enabled=e)?(a.cursor="pointer",a.addEventListener("rollover",this),a.addEventListener("rollout",this),a.addEventListener("mousedown",this),a.addEventListener("pressup",this)):(a.cursor=null,a.removeEventListener("rollover",this),a.removeEventListener("rollout",this),a.removeEventListener("mousedown",this),a.removeEventListener("pressup",this));this._isOver=this._isPressed=!1}};p.getEnabled=function(){return this._enabled};
try{Object.defineProperties(p,{enabled:{get:p.getEnabled,set:p.setEnabled}})}catch(e){}p.toString=function(){return"[ButtonHelper]"};
p.handleEvent=function(e){var a=this.target;e=e.type;this._enabled&&("mousedown"==e?(this._isPressed=!0,e=this.downLabel,this.snds.mousedown&&__snds.playSound(this.snds.mousedown,"interface")):"pressup"==e?(this._isPressed=!1,e=this._isOver?this.overLabel:this.normLabel):"rollover"==e?(this._isOver=!0,e=this._isPressed?this.downLabel:this.overLabel,this.snds.rollover&&__snds.playSound(this.snds.rollover,"interface")):(this._isOver=!1,e=this._isPressed?this.overLabel:this.normLabel),this.play?a.gotoAndPlay&&
a.gotoAndPlay(e):a.gotoAndStop&&a.gotoAndStop(e),a.cacheID&&!this.ignore_cache&&__utils.doCache(a,oSTAGE.cache_scale),this.my_stage&&(this.my_stage.needUpdate=!0))};
var BlitTools=function(){var e=this;e.firefox_font_shift=.1;this.doInitResizer=function(a){var b=document.createElement("div");b.id="resizer";b.w=null;b.h=null;b.scroll=null;b.keep=!0;b.doUpdate=function(){if(this.w!=window.innerWidth||this.h!=window.innerHeight||this.scroll!=document.documentElement.scrollTop)this.w=window.innerWidth,this.h=window.innerHeight,this.scroll=document.documentElement.scrollTop,window.scrollTo(0,0),a(),platform.isMobile&&setTimeout(function(){window.scrollTo(0,0);a()},
250)};actives.push(b);window.addEventListener("orientationchange",function(){b.w=0;b.h=0})};this.doInitFocusManager=function(a,b){var d=!1,c=function(){d||(a&&a(),d=!0)},f=function(){d&&(b&&b(),d=!1)},g=e.doGetHiddenProp();if(g){var h=g.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(h,function(a){document[g]?c():f()})}window.addEventListener("blur",c);window.addEventListener("focus",f)};this.doGetHiddenProp=function(){var a=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";
for(var b=0;b<a.length;b++)if(a[b]+"Hidden"in document)return a[b]+"Hidden";return null};this.ButtonHelper=ButtonHelper;this.doUpdateCreateJsStage=function(a,b){if(a.needUpdate||0<a.activeTweens.length||0<a.actives.length){for(var d=a.actives.length-1;0<=d;d--){var c=a.actives[d];if(!c.me||a.contains(c.me)&&!c.need_destroy)c.need_purged?a.actives.splice(d,1):c.update_function&&c.update_function(c);else{try{c.me.parent.removeChild(c.me)}catch(f){}a.actives.splice(d,1)}}for(d=a.activeTweens.length-
1;0<=d;d--)createjs.Tween.hasActiveTweens(a.activeTweens[d])||a.activeTweens.splice(d,1);b?a.update(b):a.update();a.needUpdate=!1}};this.createCORSRequest=function(a,b){var d=new XMLHttpRequest;"withCredentials"in d?d.open(a,b,!0):"undefined"!=typeof XDomainRequest?(d=new XDomainRequest,d.open(a,b)):d=null;return d};this.doLoad3dAssets=function(a,b){var d=a.manifest,c,f=new THREE.LoadingManager;f.onLoad=function(){f.doCheckLoading()};f.onError=function(){trace("load error")};f.onProgress=function(b,
c,e){a.progress=Math.max(a.progress,c/e);for(var g=0;g<d.length;g++)if(d[g].src==b){d.splice(g,1);break}c==e&&f.doCheckLoading()};f.doCheckLoading=function(){a.loaded||0!=f.items_to_process||0!=d.length||(a.progress=1,a.loaded=!0)};f.items_to_process=d.length;for(var g=0;g<d.length;g++){var h=d[g];switch(h.type){case "json":var k=e.createCORSRequest("GET",h.src);if(!k)return;k.onload=function(){var a=JSON.parse(k.responseText);b[this.name]=a}.bind({name:h.name});k.onerror=function(){trace("error loading data")};
k.send();break;case "static":c=new THREE.ObjectLoader(f);c.load(h.src,function(a){for(var c=0;c<a.children.length;c++){var d=a.children[c];if(d.name)if(d.name.includes(".DAE")||d.name.includes("ROOT"))for(var e=0;e<d.children.length;e++){var g=d.children[e];b[g.name]=g}else d.traverse(function(a){a instanceof THREE.Mesh&&a.material.map&&(a.material.map.wrapS=THREE.RepeatWrapping,a.material.map.wrapT=THREE.RepeatWrapping)}),b[d.name]=d}f.items_to_process--;f.doCheckLoading()}.bind({name:h.name}));
break;case "animated_json":c=new THREE.JSONLoader(f);c.load(h.src,function(a,c){var d=new THREE.MeshBasicMaterial({map:c[0].map});d.skinning=!0;b[this.name]=new THREE.SkinnedMesh(a,d);f.items_to_process--;f.doCheckLoading()}.bind({name:h.name}));break;case "font":c=new THREE.FontLoader(f);c.load(h.src,function(a){b[this.name]=a;f.items_to_process--;f.doCheckLoading()}.bind({name:h.name}));break;case "sprite":c=new THREE.TextureLoader(f);c.load(h.src,function(a){a=new THREE.SpriteMaterial({map:a,color:16777215,
transparent:!0});a=new THREE.Sprite(a);b[this.name]=a;f.items_to_process--;f.doCheckLoading()}.bind({name:h.name}));break;case "texture":c=new THREE.TextureLoader(f);c.load(h.src,function(a){b[this.name]=a;f.items_to_process--;f.doCheckLoading()}.bind({name:h.name}));break;case "skybox":c=new THREE.CubeTextureLoader(f),c.setPath("media/models/skyboxes/"+h.name+"/"),c.load("right.jpg left.jpg up.jpg down.jpg front.jpg back.jpg".split(" "),function(a){platform.isMobile?(a.magFilter=THREE.NearestFilter,
a.minFilter=THREE.NearestMipMapNearestFilter):a.minFilter=THREE.LinearFilter;b[this.name]=a;f.items_to_process--;f.doCheckLoading()}.bind({name:h.name}))}}};this.doLoadAssets=function(a){var b=this;trace("--\x3e doLoadAssets()");trace(a);images=images||{};var d=document.documentElement.appendChild(document.createElement("div"));d.className="loader_dummy";d.id="loader_dummy";loader.removeAll();loader.removeEventListener("fileload",b.onFileLoad);loader.removeEventListener("progress",b.onProgress);loader.removeEventListener("complete",
b.onComplete);this.onFileLoad=function(a){if("javascript"==a.item.type){var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("src",a.item.src);document.getElementsByTagName("head")[0].appendChild(b)}else"image"==a.item.type||"svg"==a.item.type?images[a.item.id]=a.result:"text"==a.item.type&&(b=d.appendChild(document.createElement("div")),b.className="general_absolute",b.style.fontFamily=a.item.id,b.style.color="white",b.style.visibility="hidden",b.innerHTML=
"-")};this.onProgress=function(b){a.progress=b.loaded};this.onComplete=function(c){a.progress=1;a.loaded=!0;loader.removeEventListener("fileload",b.onFileLoad);loader.removeEventListener("progress",b.onProgress);loader.removeEventListener("complete",b.onComplete);__utils.doDestroyElement(document.getElementById("loader_dummy"))};loader.addEventListener("fileload",b.onFileLoad);loader.addEventListener("progress",b.onProgress);loader.addEventListener("complete",b.onComplete);loader.loadManifest(a.manifest)};
this.OLD_doInitFocusManager=function(a,b){var d=e.doGetHiddenProp();if(d){var c=d.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(c,function(c){document[d]?(__snds.forceMute(),a&&a()):(__snds.unforceMute(),b&&b())})}};this.doFadeTo=function(a,b){a.style.display="block";a.style.opacity=0;a.mode=1;a.my_opacity=0;a.doUpdate=function(){switch(this.mode){case 1:this.my_opacity+=.05;this.style.opacity=Math.min(1,Math.max(0,this.my_opacity));1<=this.my_opacity&&(this.mode=2,b&&b());
break;case 2:this.my_opacity-=.05,this.style.opacity=Math.max(0,Math.min(1,this.my_opacity)),0>=this.my_opacity&&(this.purge=!0,this.style.display="none")}};actives.push(a)};this.NewPulse=function(a,b){var d=this;b=b||{};var c=b.seed||0,e=b.ease||1,g=b.ease_speed||1;d.value=0;d.value_normal=0;this.reset=function(a){d.value=Math.sin(__utils.radFromDeg(a.seed||0));d.value_normal=.5+.5*d.value};this.update=function(){c+=a;360<=c&&(c-=360);d.value=Math.sin(__utils.radFromDeg(c))*e;d.value_normal=.5+.5*
d.value*e;e=Math.min(1,e+g)}};this.dataURItoBlob=function(a){var b;b=-1!==a.split(",")[0].indexOf("base64")?atob(a.split(",")[1]):decodeURI(a.split(",")[1]);a=a.split(",")[0].split(":")[1].split(";")[0];for(var d=[],c=0;c<b.length;c++)d[c]=b.charCodeAt(c);return new Blob([new Uint8Array(d)],{type:a})};this.ordinal_suffix_of=function(a){var b=a%10;a%=100;return 1==b&&11!=a?"st":2==b&&12!=a?"nd":3==b&&13!=a?"rd":"th"};this.doFader=function(){fader.style.display="inline-block";fader.style.opacity=1;
updateQueue.push({keep:!0,opacity:1.5,update_function:function(){this.opacity-=.1;fader.style.opacity=Math.max(0,Math.min(1,this.opacity));0>=this.opacity&&(this.keep=!1,fader.style.display="none")}})};this.doGetBrowser=function(){var a=navigator.userAgent,b,d=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(d[1]))return b=/\brv[ :]+(\d+)/g.exec(a)||[],"IE "+(b[1]||"");if("Chrome"===d[1]&&(b=a.match(/\bOPR\/(\d+)/),null!=b))return"Opera "+b[1];d=d[2]?
[d[1],d[2]]:[navigator.appName,navigator.appVersion,"-?"];null!=(b=a.match(/version\/(\d+)/i))&&d.splice(1,1,b[1]);return d.join(" ")};this.getCSSPPI=function(){var a=document.createElement("div");a.style.width="1in";var b=document.getElementsByTagName("body")[0];b.appendChild(a);var d=a.offsetWidth;b.removeChild(a);return parseFloat(d)};this.getPPI=function(){var a=document.createElement("div");a.style.width="1in";var b=document.getElementsByTagName("body")[0];b.appendChild(a);var d=a.offsetWidth*
(window.devicePixelRatio||1);b.removeChild(a);return parseFloat(d)};this.getPixelRatio=function(){var a=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)};this.doGetLanguage=function(){var a;navigator&&navigator.userAgent&&(a=navigator.userAgent.match(/android.*\W(\w\w)-(\w\w)\W/i))&&(a=a[1]);!a&&navigator&&(navigator.language?
a=navigator.language:navigator.browserLanguage?a=navigator.browserLanguage:navigator.systemLanguage?a=navigator.systemLanguage:navigator.userLanguage&&(a=navigator.userLanguage),a=a.substr(0,2));return a};this.getQueryString=function(){var a={},b=window.location.search.substring(1);1>b.length&&null!=window.location.toString().split("%3F")[1]&&(b=window.location.toString().split("%3F")[1]);for(var b=b.split("&"),d=0;d<b.length;d++){var c=b[d].split("=");"undefined"===typeof a[c[0]]?a[c[0]]=c[1]:"string"===
typeof a[c[0]]?a[c[0]]=[a[c[0]],c[1]]:a[c[0]].push(c[1])}return a};this.s4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};this.guid=function(){return this.s4()+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+this.s4()+this.s4()};this.getDayNumber=function(){var a=new Date(2014,0,1),a=(new Date).getTime()-a.getTime();return Math.ceil(a/864E5)};this.doGoFullScreen=function(){var a=document.documentElement;(a.requestFullScreen||a.webkitRequestFullScreen||
a.mozRequestFullScreen).call(a)};this.doCheckFullScreen=function(){trace("doCheckFullScreen");return document.fullscreenEnabled||document.mozFullscreenEnabled||document.webkitIsFullScreen?!0:!1};this.doFullScreenOn=function(){var a=document.documentElement;a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen();oSTAGE.is_fullscreen=!0};this.doFullScreenOff=function(){document.exitFullscreen?
document.exitFullscreen():document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();oSTAGE.is_fullscreen=!1};this.doFadeandDestroy=function(a){a=a.currentTarget;a.alpha-=.1;0>=a.alpha&&a.parent.removeChild(a)};this.doGetPOT=function(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.log(2)))};this.doCache=function(a,b,d){b||(b=oSTAGE.cache_scale||
oSTAGE.scale);a.regX|=0;a.regY|=0;a.x|=0;a.y|=0;a.uncache();var c=a.getBounds(),e=a.nominalBounds,g={};if(a.force_bounds)g.x=a.force_bounds.x,g.y=a.force_bounds.y,g.width=a.force_bounds.width,g.height=a.force_bounds.height;else if(!a.force_bounds&&c&&e)g.x=Math.min(e.x,c.x),g.y=Math.min(e.y,c.y),g.width=Math.max(e.width,c.width),g.height=Math.max(e.height,c.height);else if(c)g=c;else if(e)g=e;else return;d?a.cache(g.x,g.y,Math.ceil(g.width),Math.ceil(g.height),b):a.cache(g.x,g.y,__utils.doGetPOT(g.width),
__utils.doGetPOT(g.height),b)};this.doLerp=function(a,b,d){return a+d*(b-a)};this.doRound=function(a,b){return Number(Math.round(a+"e"+b)+"e-"+b)};this.doGetDistance=function(a,b,d,c){a-=d;b-=c;return Math.sqrt(a*a+b*b)};this.doGetAngle=function(a,b,d,c){a=Math.atan2(c-b,d-a);return a*=180/Math.PI};this.degFromRad=function(a){return 180/Math.PI*a};this.radFromDeg=function(a){return Math.PI/180*a};this.getRandomArbitrary=function(a,b){return Math.random()*(b-a)+a};this.getRandomInt=function(a,b){return Math.floor(Math.random()*
(b-a+1))+a};this.doRandomizeArray=function(a){a=a.slice();for(var b=[];0<a.length;){var d=Math.floor(Math.random()*a.length),c=a[d];a.splice(d,1);b.push(c)}return b};this.doClearTimeouts=function(){for(var a=0;a<timeouts.length;a++)clearTimeout(timeouts[a]);timeouts=[]};this.getPointInBetweenByPerc=function(a,b,d){b=b.clone().sub(a);var c=b.length();b=b.normalize().multiplyScalar(c*d);return a.clone().add(b)};this.doText=function(a,b,d){a.my_origin?(a.x=a.my_origin.x,a.y=a.my_origin.y):a.my_origin=
{x:a.x,y:a.y};if("object"!==typeof b||null===b)b={value:b};var c=b.value||b.txt,f;for(f in b)"value"!=f&&(a[f]=b[f]);c||0==c||(c="MISSING TEXT",a.color="#FF0000");d=d||{};for(f in d);c=String(c);b=/\{\*br\*\}/g;c=c.replace(b,"\n");b=/\{\*p\*\}/g;c=c.replace(b,"\n\n");a.text=c;c=a.getBounds()||{height:0};b=a.lineHeight;d.textBaseline||(d.textBaseline="middle");"middle"==d.textBaseline?a.y+=.5*a.lineHeight-.5*c.height:"bottom"==d.textBaseline&&(a.y+=a.lineHeight-c.height);platform.isFirefox&&(a.y+=
b*e.firefox_font_shift);a.x|=0;a.y|=0};this.doSubText=function(a,b,d){a=String(a);return a=a.replace(new RegExp(b,"g"),d)};this.doSubValue=function(a,b){a=String(a);return a=a.replace(/\{\*var\*\}/g,b)};this.doSubValue2=function(a,b){a=String(a);return a=a.replace(/\{\*var2\*\}/g,b)};this.doHTMLText=function(a,b,d){if("object"!==typeof b||null===b)b={value:b};var c=b.value,e;for(e in b)"value"!=e&&(a.style[e]=b[e]);c||0==c||(c="MISSING TEXT",a.style.color="#FF0000");a.innerHTML=d?a.innerHTML+c:c};
this.doFormatCurrency=function(a){var b=oLANG.comma.value,d=oLANG.currency.value;a=__utils.doRound(a,2);a=String(a).split(".");for(var c=a[0],e="",g=0,h=c.length-1;0<=h;h--)e=c.charAt(h)+e,g++,3==g&&(g=0,e=b+e);e.charAt(0)==b&&(e=e.substring(1,e.length));e=d+e;1<a.length&&(e+="."+a[1]);return e};this.doFormatNumber=function(a,b){b="undefined"!==typeof b?b:oLANG.comma;a=Math.floor(a);for(var d=String(a),c="",e=0,g=d.length-1;0<=g;g--)c=d.charAt(g)+c,e++,3==e&&(e=0,c=b+c);c.charAt(0)==b&&(c=c.substring(1,
c.length));return""+c};this.doFormatTime=function(a){var b=Math.floor(.001*a),d=Math.floor(b/60);return{m:d,s:b-60*d,h:Math.floor(.1*(a-1E3*b))}};this.doCreateTextArea=function(a,b,d,c,e,g,h,k,l,m,q){var f=document.createElement("div");f.setAttribute("id",a);null!=b&&"body"!=b?document.getElementById(b).appendChild(f):document.body.appendChild(f);l||(h+=";-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;cursor:default;");f.setAttribute("style",h);f.style.position=
"absolute";f.style.zIndex="99999";m?(a=function(){f.style.width=e*window.innerWidth+"px";f.style.height=g*window.innerHeight+"px";f.style.left=d*window.innerWidth+"px";f.style.top=c*window.innerHeight+"px"},a(),window.addEventListener("resize",a)):(f.style.width=e+"px",f.style.height=g+"px",f.style.left=d+"px",f.style.top=c+"px");f.style.overflowY=k?"auto":"hidden";f.innerHTML=q;return f};this.doChangeElement=function(a,b,d,c,e,g){a=null!=a?a:document.getElementById(b);a.style.width=e+"px";a.style.height=
g+"px";a.style.marginLeft=d+"px";a.style.marginTop=c+"px"};this.doDestroyElement=function(a){"string"==typeof a&&(a=document.getElementById(a));a&&(this.doDestroyAllChildren(a),a.parentNode.removeChild(a))};this.doDestroyAllChildren=function(a){if(a)for(;0<a.childNodes.length;)a.removeChild(a.childNodes[0])};this.addDomObject=function(a,b,d,c,e,g){var f=doWrappertoScreen(b,d);a.style.left=f.x+"px";a.style.top=f.y+"px";0!=c&&(a.style.width=c*oSTAGE.scale+"px");0!=e&&(a.style.height=e*oSTAGE.scale+
"px");f={};f.obj=a;f.x=b;f.y=d;f.w=c;f.h=e;f.font_size=g;dom_objects.push(f)};this.doClearEventListeners=function(a){for(var b=0;b<a.length;b++)a[b].removeAllEventListeners()};this.addSourceToVideo=function(a,b,d){var c=document.createElement("source");c.src=b;c.type=d;a.appendChild(c)};this.canPlayVideoInline=function(){return navigator.userAgent.match(/(iPhone|iPod)/g)?"playsInline"in document.createElement("video"):!0}};function trace(e){if(oCONFIG.debug_trace){try{console.log(e)}catch(b){}if(oCONFIG.debug_panel){var a=document.getElementById("debug");a&&(a.style.display="block",a.innerHTML=e+"<br>"+a.innerHTML)}}}
var myNav=navigator.userAgent.toLowerCase(),platform={isAndroid:navigator.userAgent.match(/Android/i),isBlackBerry:navigator.userAgent.match(/BlackBerry/i),isiOS:navigator.userAgent.match(/iPhone|iPad|iPod/i),isMobileOpera:navigator.userAgent.match(/Opera Mini/i),isMobileWindows:navigator.userAgent.match(/IEMobile/i),isMobile:navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/iPhone|iPad|iPod/i)||navigator.userAgent.match(/Opera Mini/i)||navigator.userAgent.match(/IEMobile/i),
isIE:-1!=myNav.indexOf("msie")||"Microsoft Internet Explorer"==navigator.appName||"Netscape"==navigator.appName&&null!=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent),isFirefox:navigator.userAgent.match(/Firefox/i),isWindows:-1!=window.navigator.platform.indexOf("Win")},support={gzip:!1,canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(a){return!1}}(),
workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,clamped_array:window.Uint8ClampedArray,zoom:""===document.createElement("detect").style.zoom};
function doPrep(){trace("doPrep()");0=="console"in window&&(console={log:function(){},error:function(){}});Math.log2=Math.log2||function(e){return Math.log(e)*Math.LOG2E};window.DOMParser||"undefined"!=typeof window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM");String.prototype.includes||(String.prototype.includes=function(e,a){"number"!==typeof a&&(a=0);return a+e.length>this.length?!1:-1!==this.indexOf(e,a)});Date.now=Date.now||function(){return(new Date).getTime()};0=="performance"in
window&&(window.performance={offset:Date.now(),now:function(){return Date.now()-this.offset}});my_performance={offset:Date.now(),now:function(){return Date.now()-this.offset}};window.requestAnimationFrame||(window.requestAnimationFrame=function(e,a){var b=(new Date).getTime(),d=Math.max(0,16-(b-lastTime)),c=window.setTimeout(function(){e(b+d)},d);lastTime=b+d;return c});doLoadLanguage()}
function doLoadLanguage(){trace("doLoadLanguage()");var e=new XMLHttpRequest;e.open("GET",oCONFIG.language_file,!0);e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var a=(e.responseXML||parseXml(e.responseText)).documentElement;oLANG={};oLANG_IMAGES={};var b=a.getElementsByTagName("txt");if(b)for(var d=0;d<b.length;d++){var c=b[d],f={};f.id=c.getAttribute("id");for(var g=0;g<c.attributes.length;g++){var h=c.attributes[g];h.specified&&(f[h.name]=h.value)}f.value=c.childNodes[0]?
c.childNodes[0].nodeValue:"";oLANG[f.id]=f}if(a=a.getElementsByTagName("img"))for(d=0;d<a.length;d++)c=a[d],b=c.getAttribute("id"),oLANG_IMAGES[b]=c.childNodes[0].nodeValue;support.canvas&&support.webgl&&support.clamped_array?doInit():doBrowserAlert()}};e.send(null)}
function doBrowserAlert(){var e=document.getElementById("div_errors"),a=!1;if(date_playing){var a=!0,b=new Date(date_day_before),d=new Date(date_week_before),c=new Date;date_msg=c>=new Date(date_playing)?oLANG.date_msg_4:c>=b?oLANG.date_msg_3:c>=d?oLANG.date_msg_2:oLANG.date_msg_1}b='<table border="0" width="100%" height="100%" cellpadding="40"><tr><td align="center" valign="middle">'+('<img border="0" src="'+oLANG_IMAGES.logo+'"/><br>');a&&(b+='<div class="film_logo_date">'+date_msg.value+"</div><p>");
b+=oLANG.browser_alert.value+"<p>";e.innerHTML=b+'<a href="https://www.google.com/chrome/browser/"><img border="0" src="media/browser_icons/icon_chrome.png" width="64" height="64" alt="Chrome"/></a><a href="http://www.mozilla.org/firefox/new/"><img border="0" src="media/browser_icons/icon_firefox.png" width="64" height="64" alt="Firefox"/></a><a href="http://www.microsoft.com/InternetExplorer"><img border="0" src="media/browser_icons/icon_ie.png" width="64" height="64" alt="Internet Explorer"/></a><a href="https://www.microsoft.com/microsoft-edge"><img border="0" src="media/browser_icons/icon_edge.png" width="64" height="64" alt="Edge"/></a><a href="http://www.apple.com/safari/"><img border="0" src="media/browser_icons/icon_safari.png" width="64" height="64" alt="Safari"/></a><a href="http://www.opera.com/"><img border="0" src="media/browser_icons/icon_opera.png" width="64" height="64" alt="Opera"/></a></td></tr></table>';
e.style.display="inline-block"};
